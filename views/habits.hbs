<div class="container">
    <h1>Your Habits</h1>
    <a href="/habits/add" class="btn btn-primary mb-3">Add a New Habit</a>

    <!-- Category Selection -->
    <div class="mb-4">
        <label for="categorySelector" class="form-label">Select Category:</label>
        <select id="categorySelector" class="form-select">
            <option value="all">All Categories</option>
            {{#each categories}}
            <option value="{{this.id}}">{{this.name}}</option>
            {{/each}}
        </select>
    </div>

    <!-- Habits List -->
    <div id="habitsList" class="list-group mb-4">
        {{#each habits}}
        <div class="list-group-item d-flex justify-content-between align-items-center">
            {{name}} - {{description}} ({{formatDate created_at "MMM Do YYYY"}})
            <form action="/habits/delete/{{id}}" method="post" class="ms-3">
                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
            </form>
        </div>
        {{/each}}
    </div>

    <!-- Calendar Heatmap Container -->
    <div id="habitHeatmap" class="mt-4"></div>
</div>
